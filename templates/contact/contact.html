{% extends 'base.html' %}
{% load static %}

{% block title %}聯絡我們 - SipSavour{% endblock %}

{% block content %}
<div class="container py-5 contact-page">
  <h3 class="mb-5">聯絡我們</h3>
  <div class="row g-4">
    <!-- 聯絡表單 -->
    <div class="col-lg-6">
      <div class="card shadow-sm">
        <div class="card-body p-4">
          <h3 class="card-title mb-4">發送訊息</h3>
          
          <form method="POST" action="{% url 'contact:contact' %}">
            {% csrf_token %}
            <div class="mb-3">
              <label for="name" class="form-label">姓名</label>
              <input type="text" class="form-control" id="name" name="name" required>
            </div>
            <div class="mb-3">
              <label for="email" class="form-label">電子郵件</label>
              <input type="email" class="form-control" id="email" name="email" required>
            </div>
            <div class="mb-3">
              <label for="phone" class="form-label">電話</label>
              <input type="tel" class="form-control" id="phone" name="phone">
            </div>
            <div class="mb-3">
              <label for="message" class="form-label">訊息內容</label>
              <textarea class="form-control" id="message" name="message" rows="1" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary w-100">發送訊息</button>
          </form>
        </div>
      </div>
    </div>

    <!-- 聯絡資訊 -->
    <div class="col-lg-6">
      <div class="row g-4">
        <!-- 地址 -->
        <div class="col-md-6">
          <div class="card h-100 contact-info-card">
            <div class="card-body text-center p-4">
              <i class="fas fa-map-marker-alt fa-2x mb-3"></i>
              <h5 class="card-title">地址</h5>
              <p class="card-text">台北市大安區和平東路二段134號</p>
            </div>
          </div>
        </div>
        
        <!-- 電話 -->
        <div class="col-md-6">
          <div class="card h-100 contact-info-card">
            <div class="card-body text-center p-4">
              <i class="fas fa-phone fa-2x mb-3"></i>
              <h5 class="card-title">電話</h5>
              <p class="card-text">02-1234-5678</p>
            </div>
          </div>
        </div>
        
        <!-- 電子郵件 -->
        <div class="col-md-6">
          <div class="card h-100 contact-info-card">
            <div class="card-body text-center p-4">
              <i class="fas fa-envelope fa-2x mb-3"></i>
              <h5 class="card-title">電子郵件</h5>
              <p class="card-text">contact@sipsavour.com</p>
            </div>
          </div>
        </div>
        
        <!-- 營業時間 -->
        <div class="col-md-6">
          <div class="card h-100 contact-info-card">
            <div class="card-body text-center p-4">
              <i class="fas fa-clock fa-2x mb-3"></i>
              <h5 class="card-title">營業時間</h5>
              <p class="card-text mb-1">週一至週五: 10:00 - 18:00</p>
              <p class="card-text">週六至週日: 休息</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 分店資訊 -->
  <div class="row mt-5">
    <div class="col-12">
      <h3 class="mb-4">分店資訊</h3>
      <div class="row g-4">
        <!-- 台北總店 -->
        <div class="col-md-4">
          <div class="card h-100">
            <div class="card-body p-4">
              <h5 class="card-title mb-3">台北總店</h5>
              <div class="d-flex align-items-center mb-3">
                <i class="fas fa-map-marker-alt me-3"></i>
                <p class="mb-0">台北市大安區和平東路二段134號</p>
              </div>
              <div class="d-flex align-items-center mb-3">
                <i class="fas fa-phone me-3"></i>
                <p class="mb-0">02-1234-5678</p>
              </div>
              <div class="d-flex align-items-center">
                <i class="fas fa-clock me-3"></i>
                <p class="mb-0">週一至週五: 10:00 - 18:00</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- 台北101分店 -->
        <div class="col-md-4">
          <div class="card h-100">
            <div class="card-body p-4">
              <h5 class="card-title mb-3">台北101分店</h5>
              <div class="d-flex align-items-center mb-3">
                <i class="fas fa-map-marker-alt me-3"></i>
                <p class="mb-0">臺北市信義區信義路5段7號</p>
              </div>
              <div class="d-flex align-items-center mb-3">
                <i class="fas fa-phone me-3"></i>
                <p class="mb-0">02-2345-6789</p>
              </div>
              <div class="d-flex align-items-center">
                <i class="fas fa-clock me-3"></i>
                <p class="mb-0">週一至週五: 10:00 - 18:00</p>
              </div>
            </div>
          </div>
        </div>

        <!-- 台北中正紀念堂分店 -->
        <div class="col-md-4">
          <div class="card h-100">
            <div class="card-body p-4">
              <h5 class="card-title mb-3">台北中正紀念堂分店</h5>
              <div class="d-flex align-items-center mb-3">
                <i class="fas fa-map-marker-alt me-3"></i>
                <p class="mb-0">臺北市中正區中山南路21號</p>
              </div>
              <div class="d-flex align-items-center mb-3">
                <i class="fas fa-phone me-3"></i>
                <p class="mb-0">02-3456-7890</p>
              </div>
              <div class="d-flex align-items-center">
                <i class="fas fa-clock me-3"></i>
                <p class="mb-0">週一至週五: 10:00 - 18:00</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Google Maps -->
  <div class="row mt-5">
    <div class="col-12">
      <div class="d-flex justify-content-center mb-4">
        <div class="btn-group" role="group" aria-label="選擇分店">
          <button type="button" class="btn btn-outline-primary active" data-location="main">台北總店</button>
          <button type="button" class="btn btn-outline-primary" data-location="101">台北101分店</button>
          <button type="button" class="btn btn-outline-primary" data-location="memorial">中正紀念堂分店</button>
        </div>
      </div>
      <div class="map-container">
        <iframe 
          id="store-map"
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3615.2771475954423!2d121.54219871186021!3d25.024666977729932!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a908a8232611%3A0xeebfb2d71a5025c7!2sNational%20Taipei%20University%20of%20Education!5e0!3m2!1sen!2stw!4v1748396476306!5m2!1sen!2stw"
          width="100%" 
          height="450" 
          style="border:0;" 
          allowfullscreen="" 
          loading="lazy">
        </iframe>
      </div>
    </div>
  </div>
</div>

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
  const mapButtons = document.querySelectorAll('[data-location]');
  const mapFrame = document.getElementById('store-map');
  
  const locations = {
    main: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3615.2771475954423!2d121.54219871186021!3d25.024666977729932!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a908a8232611%3A0xeebfb2d71a5025c7!2sNational%20Taipei%20University%20of%20Education!5e0!3m2!1sen!2stw!4v1748396476306!5m2!1sen!2stw",
    101: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3614.965786576438!2d121.56145711186042!3d25.035235127723045!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442abb6da80a7ad%3A0xacc4d11dc963103c!2sTaipei%20101%20Shopping%20center!5e0!3m2!1sen!2stw!4v1748765996273!5m2!1sen!2stw",
    memorial: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3614.95792467752!2d121.51531228530823!3d25.035501920614074!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442a99db9a2a94d%3A0x43e9034292df69b2!2sChiang%20Kai-shek%20Memorial%20Hall!5e0!3m2!1sen!2stw!4v1748766281200!5m2!1sen!2stw"
  };

  mapButtons.forEach(button => {
    button.addEventListener('click', function() {
      // 移除所有按鈕的 active 類別
      mapButtons.forEach(btn => btn.classList.remove('active'));
      // 為當前點擊的按鈕添加 active 類別
      this.classList.add('active');
      // 更新地圖
      mapFrame.src = locations[this.dataset.location];
    });
  });
});
</script>
{% endblock %}

{% endblock %}